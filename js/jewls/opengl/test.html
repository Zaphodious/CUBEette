<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
    </head>
    <body>
        <canvas id="c" height=512 width=512 style="width: 512px; height: 512px;">no canvas fo you</canvas>
        <script type="module">
            import * as gl from "./opengl.js";
            console.log('this works')

            let c = document.getElementById("c");
            let i = new Image();
            i.onload = () => { renderImg(i).then(() => { }) };
            i.src = "testimg.png";

            async function renderImg(img) {
                console.log("i was logged");
                let result = await gl.initContext(c).then(b => b);

                if (!result) {
                    console.log("failed to initialize context");
                    return;
                }

                let tex = gl.createTexture(img);

                gl.createActor("actor", tex);
                gl.render(1, 0, 0, 1);
            }
        </script>
    </body>
</html>